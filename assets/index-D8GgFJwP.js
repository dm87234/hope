import{u as E,a as N}from"./user-MF-_HU3i.js";import{_ as q,r as w,u as A,c,a as e,b as o,w as l,d as r,o as u,e as i,f as C,p as D,g as z,E as V,h as M}from"./index-Jp4rxNQF.js";import"./request-GOMAEW8t.js";const U="/hope/assets/h1-B3l3RVXV.png",P="/hope/assets/h2-ClLfSibJ.png",Z="/hope/assets/h3-CyNUhYTU.png",j="/hope/assets/h4-DCe6d6Zj.png",n=v=>(D("data-v-4c15bb3b"),v=v(),z(),v),J={class:"login_container"},O={class:"wrapper"},X=n(()=>e("div",{class:"title"},[e("h1",null,"望記記帳")],-1)),Y={class:"main"},F=n(()=>e("p",null,[i(" 望記記帳 "),e("br"),i("絕不忘記的記賬工具 "),e("br"),i("怕忘記，就望記"),e("br"),i("記不住就望記 ")],-1)),G={class:"right"},H=n(()=>e("img",{src:U},null,-1)),K=n(()=>e("img",{src:P},null,-1)),Q=n(()=>e("img",{src:Z},null,-1)),W=n(()=>e("img",{src:j},null,-1)),ee=n(()=>e("div",{class:"mobileRight"},[e("img",{src:U,alt:""})],-1)),oe={key:0,class:"dialogTitleBox"},se=n(()=>e("h3",null,"登入",-1)),le={key:1,class:"dialogTitleBox"},te=n(()=>e("h3",null,"註冊",-1)),ae=n(()=>e("div",{class:"loginTip"},"使用社群帳號繼續",-1)),ne=n(()=>e("div",{class:"socialLogin"},[e("button",{class:"bgStyle fbLogin"}),e("button",{class:"bgStyle lineLogin"}),e("button",{class:"bgStyle googleLogin"})],-1)),re={key:0,class:"loginTip"},ue={key:1,class:"loginTip"},ie={key:0,class:"dialog-footer"},de={key:1,class:"dialog-footer"},pe={__name:"index",setup(v){const b=w(!1),d=w(!1),t=w({username:"test123",password:"246810",repassword:"",email:""}),h=w(null),k={username:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-z0-9]{6,10}$/,message:"帳號必須是6-10碼小寫英文數字",trigger:"blur"}],email:[{required:!0,message:"請輸入電子信箱",trigger:"blur"},{type:"email",message:"電子信箱不正確",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9!@#$%^&*()-_+=?<>]{6,12}$/,message:"密碼必須是6-12碼英文數字符號",trigger:"blur"}],repassword:[{validator:(g,s,p)=>{s!==t.value.password?p(new Error("兩次密碼輸入不一致")):p()},trigger:"blur"}]},S=()=>{b.value=!0},L=A(),T=async()=>{await h.value.validate();const g=await E(t.value);if(g.data.status===1)return V.error("服務異常");L.setToken(g.data.token),console.log("登入成功"),M.push("/home"),V.success("登入成功")},B=async()=>{await h.value.validate(),(await N(t.value)).data.status===0&&(V.success({duration:3500,message:"註冊成功!!請登入"}),t.value={},d.value=!1)};return(g,s)=>{const p=r("el-carousel-item"),I=r("el-carousel"),m=r("font-awesome-icon"),_=r("el-input"),f=r("el-form-item"),y=r("el-form"),x=r("el-button"),R=r("el-link"),$=r("el-dialog");return u(),c("div",J,[e("div",O,[X,e("div",Y,[e("div",{class:"left"},[F,e("button",{onClick:S},"立即使用")]),e("div",G,[o(I,{height:"500px"},{default:l(()=>[o(p,null,{default:l(()=>[H]),_:1}),o(p,null,{default:l(()=>[K]),_:1}),o(p,null,{default:l(()=>[Q]),_:1}),o(p,null,{default:l(()=>[W]),_:1})]),_:1})]),ee])]),o($,{modelValue:b.value,"onUpdate:modelValue":s[8]||(s[8]=a=>b.value=a),"show-close":!0,width:"414","align-center":""},{header:l(()=>[d.value?(u(),c("div",le,[te,e("p",null,[i(" 已經註冊，"),e("span",{class:"orange",onClick:s[1]||(s[1]=a=>d.value=!1)},"登入")])])):(u(),c("div",oe,[se,e("p",null,[i(" 沒有帳號，"),e("span",{class:"orange",onClick:s[0]||(s[0]=a=>d.value=!0)},"快速註冊")])]))]),footer:l(()=>[d.value?(u(),c("div",de,[o(x,{class:"button",type:"warning",onClick:B},{default:l(()=>[i(" 註冊 ")]),_:1}),o(R,{type:"primary"},{default:l(()=>[i("註冊即同意 隱私權政策 和 使用者條款")]),_:1})])):(u(),c("div",ie,[o(x,{class:"button",type:"warning",onClick:T},{default:l(()=>[i(" 登入 ")]),_:1})]))]),default:l(()=>[ae,ne,d.value?(u(),c("div",ue,"或註冊成為會員")):(u(),c("div",re,"或使用帳號密碼登入")),d.value?(u(),C(y,{key:3,model:t.value,ref_key:"form",ref:h,rules:k},{default:l(()=>[o(f,{prop:"username"},{default:l(()=>[o(m,{icon:["fas","user"]}),o(_,{modelValue:t.value.username,"onUpdate:modelValue":s[4]||(s[4]=a=>t.value.username=a),autocomplete:"off",placeholder:"帳號 (限6-10碼小寫英文數字)"},null,8,["modelValue"])]),_:1}),o(f,{prop:"email"},{default:l(()=>[o(m,{icon:["fas","envelope"]}),o(_,{modelValue:t.value.email,"onUpdate:modelValue":s[5]||(s[5]=a=>t.value.email=a),autocomplete:"off",placeholder:"電子信箱"},null,8,["modelValue"])]),_:1}),o(f,{prop:"password"},{default:l(()=>[o(m,{icon:["fas","lock"]}),o(_,{modelValue:t.value.password,"onUpdate:modelValue":s[6]||(s[6]=a=>t.value.password=a),autocomplete:"off",placeholder:"密碼 (限6-12碼英文數字符號)","show-password":""},null,8,["modelValue"])]),_:1}),o(f,{prop:"repassword"},{default:l(()=>[o(m,{icon:["fas","lock"]}),o(_,{modelValue:t.value.repassword,"onUpdate:modelValue":s[7]||(s[7]=a=>t.value.repassword=a),autocomplete:"off",placeholder:"請再次輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):(u(),C(y,{key:2,model:t.value,ref_key:"form",ref:h,rules:k},{default:l(()=>[o(f,{prop:"username"},{default:l(()=>[o(m,{icon:["fas","user"]}),o(_,{modelValue:t.value.username,"onUpdate:modelValue":s[2]||(s[2]=a=>t.value.username=a),autocomplete:"off",placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1}),o(f,{prop:"password"},{default:l(()=>[o(m,{icon:["fas","lock"]}),o(_,{modelValue:t.value.password,"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.password=a),autocomplete:"off",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]))]),_:1},8,["modelValue"])])}}},fe=q(pe,[["__scopeId","data-v-4c15bb3b"]]);export{fe as default};
