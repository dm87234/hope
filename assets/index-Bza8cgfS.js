import{u as N,a as q}from"./user-f-k3_xVQ.js";import{_ as A,r as h,u as D,c as p,a as e,b as o,w as l,d as r,o as u,e as i,f as x,p as z,g as M,E as V,h as P}from"./index-D8v411td.js";import"./request-Diynr6Cd.js";const U="/assets/h1-B3l3RVXV.png",Z="/assets/h2-ClLfSibJ.png",j="/assets/h3-CyNUhYTU.png",F="/assets/h4-DCe6d6Zj.png",n=v=>(z("data-v-13852d63"),v=v(),M(),v),J={class:"login_container"},O={class:"wrapper"},X=n(()=>e("div",{class:"title"},[e("h1",null,"望記記帳")],-1)),Y={class:"main"},G=n(()=>e("p",null,[i(" 望記記帳 "),e("br"),i("絕不忘記的記賬工具 "),e("br"),i("怕忘記，就望記"),e("br"),i("記不住就望記 ")],-1)),H={class:"right"},K=n(()=>e("img",{src:U},null,-1)),Q=n(()=>e("img",{src:Z},null,-1)),W=n(()=>e("img",{src:j},null,-1)),ee=n(()=>e("img",{src:F},null,-1)),oe=n(()=>e("div",{class:"mobileRight"},[e("img",{src:U,alt:""})],-1)),se={key:0,class:"dialogTitleBox"},le=n(()=>e("h3",null,"登入",-1)),te={key:1,class:"dialogTitleBox"},ae=n(()=>e("h3",null,"註冊",-1)),ne=n(()=>e("div",{class:"loginTip"},"使用社群帳號繼續",-1)),re={class:"socialLogin"},ue=n(()=>e("button",{class:"bgStyle lineLogin"},null,-1)),ie=n(()=>e("button",{class:"bgStyle googleLogin"},null,-1)),de={key:0,class:"loginTip"},ce={key:1,class:"loginTip"},pe={key:0,class:"dialog-footer"},_e={key:1,class:"dialog-footer"},me={__name:"index",setup(v){const b=h(!1),d=h(!1),t=h({username:"",password:"",repassword:"",email:""}),w=h(null),k={username:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-z0-9]{6,10}$/,message:"帳號必須是6-10碼小寫英文數字",trigger:"blur"}],email:[{required:!0,message:"請輸入電子信箱",trigger:"blur"},{type:"email",message:"電子信箱不正確",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9!@#$%^&*()-_+=?<>]{6,12}$/,message:"密碼必須是6-12碼英文數字符號",trigger:"blur"}],repassword:[{validator:(g,s,c)=>{s!==t.value.password?c(new Error("兩次密碼輸入不一致")):c()},trigger:"blur"}]},L=()=>{b.value=!0},S=D(),T=async()=>{await w.value.validate();const g=await N(t.value);if(g.data.status===1)return V.error("服務異常");S.setToken(g.data.token),console.log("登入成功"),P.push("/home"),V.success("登入成功")},B=async()=>{await w.value.validate(),(await q(t.value)).data.status===0&&(V.success({duration:3500,message:"註冊成功!!請登入"}),t.value={},d.value=!1)},I=()=>{console.log("fb")};return(g,s)=>{const c=r("el-carousel-item"),$=r("el-carousel"),_=r("font-awesome-icon"),m=r("el-input"),f=r("el-form-item"),y=r("el-form"),C=r("el-button"),R=r("el-link"),E=r("el-dialog");return u(),p("div",J,[e("div",O,[X,e("div",Y,[e("div",{class:"left"},[G,e("button",{onClick:L},"立即使用")]),e("div",H,[o($,{height:"500px"},{default:l(()=>[o(c,null,{default:l(()=>[K]),_:1}),o(c,null,{default:l(()=>[Q]),_:1}),o(c,null,{default:l(()=>[W]),_:1}),o(c,null,{default:l(()=>[ee]),_:1})]),_:1})]),oe])]),o(E,{modelValue:b.value,"onUpdate:modelValue":s[9]||(s[9]=a=>b.value=a),"show-close":!0,width:"414","align-center":""},{header:l(()=>[d.value?(u(),p("div",te,[ae,e("p",null,[i(" 已經註冊，"),e("span",{class:"orange",onClick:s[1]||(s[1]=a=>d.value=!1)},"登入")])])):(u(),p("div",se,[le,e("p",null,[i(" 沒有帳號，"),e("span",{class:"orange",onClick:s[0]||(s[0]=a=>d.value=!0)},"快速註冊")])]))]),footer:l(()=>[d.value?(u(),p("div",_e,[o(C,{class:"button",type:"warning",onClick:B},{default:l(()=>[i(" 註冊 ")]),_:1}),o(R,{type:"primary"},{default:l(()=>[i("註冊即同意 隱私權政策 和 使用者條款")]),_:1})])):(u(),p("div",pe,[o(C,{class:"button",type:"warning",onClick:T},{default:l(()=>[i(" 登入 ")]),_:1})]))]),default:l(()=>[ne,e("div",re,[e("button",{onClick:s[2]||(s[2]=a=>I()),class:"bgStyle fbLogin"}),ue,ie]),d.value?(u(),p("div",ce,"或註冊成為會員")):(u(),p("div",de,"或使用帳號密碼登入")),d.value?(u(),x(y,{key:3,model:t.value,ref_key:"form",ref:w,rules:k},{default:l(()=>[o(f,{prop:"username"},{default:l(()=>[o(_,{icon:["fas","user"]}),o(m,{modelValue:t.value.username,"onUpdate:modelValue":s[5]||(s[5]=a=>t.value.username=a),autocomplete:"off",placeholder:"帳號 (限6-10碼小寫英文數字)"},null,8,["modelValue"])]),_:1}),o(f,{prop:"email"},{default:l(()=>[o(_,{icon:["fas","envelope"]}),o(m,{modelValue:t.value.email,"onUpdate:modelValue":s[6]||(s[6]=a=>t.value.email=a),autocomplete:"off",placeholder:"電子信箱"},null,8,["modelValue"])]),_:1}),o(f,{prop:"password"},{default:l(()=>[o(_,{icon:["fas","lock"]}),o(m,{modelValue:t.value.password,"onUpdate:modelValue":s[7]||(s[7]=a=>t.value.password=a),autocomplete:"off",placeholder:"密碼 (限6-12碼英文數字符號)","show-password":""},null,8,["modelValue"])]),_:1}),o(f,{prop:"repassword"},{default:l(()=>[o(_,{icon:["fas","lock"]}),o(m,{modelValue:t.value.repassword,"onUpdate:modelValue":s[8]||(s[8]=a=>t.value.repassword=a),autocomplete:"off",placeholder:"請再次輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):(u(),x(y,{key:2,model:t.value,ref_key:"form",ref:w,rules:k},{default:l(()=>[o(f,{prop:"username"},{default:l(()=>[o(_,{icon:["fas","user"]}),o(m,{modelValue:t.value.username,"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.username=a),autocomplete:"off",placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1}),o(f,{prop:"password"},{default:l(()=>[o(_,{icon:["fas","lock"]}),o(m,{modelValue:t.value.password,"onUpdate:modelValue":s[4]||(s[4]=a=>t.value.password=a),autocomplete:"off",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]))]),_:1},8,["modelValue"])])}}},we=A(me,[["__scopeId","data-v-13852d63"]]);export{we as default};
