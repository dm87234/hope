import{u as I,a as E}from"./user-CRazH6ID.js";import{_ as $,r as w,u as q,c as i,a as o,b as e,w as t,d as p,o as n,e as u,f as B,p as A,g as N,E as k,h as R}from"./index-Bo4242gt.js";import"./request-tU5QKqId.js";const z="/budget/assets/computer-BvEui-X0.png",c=g=>(A("data-v-c23b0138"),g=g(),N(),g),D={class:"login_container"},M=c(()=>o("div",{class:"title"},[o("h1",null,"Budget Tracker")],-1)),P=c(()=>o("p",null,[u(" 最美記帳 "),o("br"),u("易用可靠的雲端記帳工具 "),o("br"),u("中小企業最安心的成長夥伴 ")],-1)),O=c(()=>o("div",{class:"right"},[o("img",{src:z})],-1)),X={key:0,class:"dialogTitleBox"},Z=c(()=>o("h3",null,"登入",-1)),j={key:1,class:"dialogTitleBox"},F=c(()=>o("h3",null,"註冊",-1)),G=c(()=>o("div",{class:"loginTip"},"使用社群帳號繼續",-1)),H=c(()=>o("div",{class:"socialLogin"},[o("button",{class:"bgStyle fbLogin"}),o("button",{class:"bgStyle lineLogin"}),o("button",{class:"bgStyle googleLogin"})],-1)),J={key:0,class:"loginTip"},K={key:1,class:"loginTip"},Q={key:0,class:"dialog-footer"},W={key:1,class:"dialog-footer"},Y={__name:"index",setup(g){const b=w(!1),d=w(!1),l=w({username:"",password:"",repassword:"",email:""}),v=w(null),V={username:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-z0-9]{6,10}$/,message:"帳號必須是6-10碼小寫英文數字",trigger:"blur"}],email:[{required:!0,message:"請輸入電子信箱",trigger:"blur"},{type:"email",message:"電子信箱不正確",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9!@#$%^&*()-_+=?<>]{6,12}$/,message:"密碼必須是6-12碼英文數字符號",trigger:"blur"}],repassword:[{validator:(f,s,r)=>{s!==l.value.password?r(new Error("兩次密碼輸入不一致")):r()},trigger:"blur"}]},S=()=>{b.value=!0},T=q(),U=async()=>{await v.value.validate();const f=await I(l.value);if(f.data.status===1)return k.error("服務異常");T.setToken(f.data.token),k.success("登入成功"),R.push("/home")},C=async()=>{await v.value.validate(),(await E(l.value)).data.status===0&&(k.success({duration:3500,message:"註冊成功!!請登入"}),l.value={},d.value=!1)};return(f,s)=>{const r=p("font-awesome-icon"),m=p("el-input"),_=p("el-form-item"),y=p("el-form"),h=p("el-button"),x=p("el-link"),L=p("el-dialog");return n(),i("div",D,[o("div",{class:"wrapper"},[M,o("div",{class:"main"},[o("div",{class:"left"},[P,o("button",{onClick:S},"立即使用")]),O])]),e(L,{modelValue:b.value,"onUpdate:modelValue":s[8]||(s[8]=a=>b.value=a),"show-close":!0,width:"414","align-center":""},{header:t(()=>[d.value?(n(),i("div",j,[F,o("p",null,[u(" 已經註冊，"),o("span",{class:"orange",onClick:s[1]||(s[1]=a=>d.value=!1)},"登入")])])):(n(),i("div",X,[Z,o("p",null,[u(" 沒有帳號，"),o("span",{class:"orange",onClick:s[0]||(s[0]=a=>d.value=!0)},"快速註冊")])]))]),footer:t(()=>[d.value?(n(),i("div",W,[e(h,{class:"button",type:"warning",onClick:C},{default:t(()=>[u(" 註冊 ")]),_:1}),e(x,{type:"primary"},{default:t(()=>[u("註冊即同意 隱私權政策 和 使用者條款")]),_:1})])):(n(),i("div",Q,[e(h,{class:"button",type:"warning",onClick:U},{default:t(()=>[u(" 登入 ")]),_:1}),e(x,{type:"primary"},{default:t(()=>[u("忘記密碼")]),_:1})]))]),default:t(()=>[G,H,d.value?(n(),i("div",K,"或註冊成為會員")):(n(),i("div",J,"或使用帳號密碼登入")),d.value?(n(),B(y,{key:3,model:l.value,ref_key:"form",ref:v,rules:V},{default:t(()=>[e(_,{prop:"username"},{default:t(()=>[e(r,{icon:["fas","user"]}),e(m,{modelValue:l.value.username,"onUpdate:modelValue":s[4]||(s[4]=a=>l.value.username=a),autocomplete:"off",placeholder:"帳號 (限6-10碼小寫英文數字)"},null,8,["modelValue"])]),_:1}),e(_,{prop:"email"},{default:t(()=>[e(r,{icon:["fas","envelope"]}),e(m,{modelValue:l.value.email,"onUpdate:modelValue":s[5]||(s[5]=a=>l.value.email=a),autocomplete:"off",placeholder:"電子信箱"},null,8,["modelValue"])]),_:1}),e(_,{prop:"password"},{default:t(()=>[e(r,{icon:["fas","lock"]}),e(m,{modelValue:l.value.password,"onUpdate:modelValue":s[6]||(s[6]=a=>l.value.password=a),autocomplete:"off",placeholder:"密碼 (限6-12碼英文數字符號)","show-password":""},null,8,["modelValue"])]),_:1}),e(_,{prop:"repassword"},{default:t(()=>[e(r,{icon:["fas","lock"]}),e(m,{modelValue:l.value.repassword,"onUpdate:modelValue":s[7]||(s[7]=a=>l.value.repassword=a),autocomplete:"off",placeholder:"請再次輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):(n(),B(y,{key:2,model:l.value,ref_key:"form",ref:v,rules:V},{default:t(()=>[e(_,{prop:"username"},{default:t(()=>[e(r,{icon:["fas","user"]}),e(m,{modelValue:l.value.username,"onUpdate:modelValue":s[2]||(s[2]=a=>l.value.username=a),autocomplete:"off",placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1}),e(_,{prop:"password"},{default:t(()=>[e(r,{icon:["fas","lock"]}),e(m,{modelValue:l.value.password,"onUpdate:modelValue":s[3]||(s[3]=a=>l.value.password=a),autocomplete:"off",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]))]),_:1},8,["modelValue"])])}}},le=$(Y,[["__scopeId","data-v-c23b0138"]]);export{le as default};
